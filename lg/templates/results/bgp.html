{% if not results.output %}
  <p class="is-size-5">No route found.</p>
{% else %}

  {% for prefix, details in results
    .output
    .items() %}
    <p class="subtitle is-5">BGP route for
      {{prefix}}</p>

    <table class="table is-striped is-hoverable is-fullwidth">
      <thead>
        <tr>
          <th>Path</th>
          <th>AS Path</th>
          <th>Next Hop</th>
          <th>LP</th>
          <th>Metric</th>
          <th>Communities</th>
        </tr>
      </thead>
      <tbody>
        {% for path in details.paths %}
          <tr{% if path.best_path %} class="is-selected" {% endif %}>
            <th>{{loop.index}}</th>
            <td>{{path.as_path}}</td>
            <td>{{path.next_hop}}</td>
            <td>{{path.local_pref}}</td>
            <td>{{path.metric}}</td>
            <td>
              <div class="tags has-addons">
                {% for community in path.communities %}
                  <span class="tag">{{ community.community }}</span>
                  {% if community.map %}
                    <span class="tag is-dark">{{ community.community }}</span>
                  {% endif %}
                {% endfor %}
              </div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endfor %}
{% endif %}